{% extends 'base.html' %}
<!-- load static tags -->
{% load static %}
<!-- css -->
{% block css %}
<style>
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap');
  *{
      font-family: 'Poppins', sans-serif;
  }
  .wrapper{
      background: #ececec;
      padding: 0 20px 0 20px;
  }
  .main{
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
  }
  .side-image{
      background-image: linear-gradient(rgba(218, 212, 181, 0.6), rgba(218, 212, 181, 0.6)), url({% static 'images/admin-MAIN.png' %}); /* Replace with your image */
      background-position: center;
      background-size: cover;
      background-repeat: no-repeat;
      border-radius: 10px 0 0 10px;
      position: relative;
  }
  .row{
    width:  900px;
    height:550px;
    border-radius: 10px;
    background: #fff;
    padding: 0px;
    box-shadow: 5px 5px 10px 1px rgba(0,0,0,0.2);
  }
  .logo{
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
  }
  .logo img{
      width: 100%;
  }
  
  i{
      font-weight: 400;
      font-size: 15px;
  }
  
  .right{
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    background-color: #2C2A24;
    border-top-right-radius: 10px;
    border-bottom-right-radius: 10px;

  }
  
  
  .input-box{
    width: 330px;
    box-sizing: border-box;
  }
  
  .input-box header{
      font-weight: 700;
      text-align: center;
      margin-bottom: 45px;
      color: #FFFFFF;
  }
  .input-field{
      display: flex;
      flex-direction: column;
      position: relative;
  }
  
  .fingerprint{
      background: #DAD4B5;
      height: 10em;
      margin-bottom: 1em;
      border-radius: 10px;
      
  }
  
  .fingerprint img{
      width: 8em;
      margin: auto;
  }
  
   .login-btn{
      border: none;
      outline: none;
      height: 45px;
      background: #993333;
      border-radius: 5px;
      transition: .4s;
      color: #FFFFFF;
   }
   .login-btn:hover{
      background: #B83D3D;
      color: #FFFFFF;
   }
  .register-btn{
      margin-top: 10px;
      border: none;
      outline: none;
      height: 45px;
      border-radius: 5px;
      transition: .4s;
      color: #FFFFFF;
      text-align: center;
      text-decoration: none;
  }
  span a{
      text-decoration: none;
      font-weight: 700;
      color: #000;
      transition: .5s;
  }
  span a:hover{
      text-decoration: underline;
      color: #000;
  }
  @media only screen and (max-width: 768px){
      .side-image{
          border-radius: 10px 10px 0 0;
      }
  
      .logo{
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          text-align: center;
      }
  
      .logo img{
          width: 50%;
      }
      .text p, i{
          font-size: 16px;
      }
      .row{
          max-width:420px;
          width: 100%;
      }
  }
</style>
{% endblock css %}

<!-- title -->
{% block title %} {{page_title}} {% endblock title %}

<!-- content begins -->
{% block content %}
<body class="text-center">
 <div class="wrapper">
        <div class="container main">

          <!-- Modal -->
            <div class="modal fade" id="notRegisteredModal" tabindex="-1" aria-labelledby="notRegisteredModalLabel" aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="notRegisteredModalLabel">User Not Registered</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    It seems like you're not registered. Please register to continue.
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <a href="{% url 'accounts:register' %}" class="btn btn-primary">Register Now</a>
                  </div>
                </div>
              </div>
            </div>

            <div class="row">

              <div class="col-md-6 side-image">
                           
                    <!-------------      image     ------------->
                    
                    <div class="logo">
                        <img src="{% static 'images/ctu-logo.png' %}" alt="" srcset="">
                    </div>
                    
                </div>
                <form method="post" class="col-md-6 right">
                    {% csrf_token %}
                    
                    <div class="input-box">
                       
                       <header>WELCOME, TECHNOLOGIST!</header>
                       <div class="input-field fingerprint">
                            <img src="{% static 'images/fingerprint.png' %}" alt="" srcset="">
                        </div> 
                        <div class="input-field">
                            <input type="text" name="ref-num" class="form-control" placeholder="Enter Reference number" required>
                       </div> 
                       <br>
                       <div class="input-field">
                            <input type="submit" class="login-btn" value="Scan fingerprint to login">
                       </div> 
                       <div class="input-field register-btn">
                            <a type="submit" class="register-btn" value="Scan fingerprint to login" href="{% url 'accounts:register' %}">Register</a>
                        </div> 
                    </div>  
             
                </form>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Function to show the modal
        function showNotRegisteredModal() {
            const modal = new bootstrap.Modal(document.getElementById('notRegisteredModal'));
            modal.show();
        }

        // Example: Trigger the modal when the page loads (replace with your logic)
        document.addEventListener('DOMContentLoaded', function () {
          const isUserRegistered = {{ registered }};
          if (isUserRegistered===false) {
              showNotRegisteredModal();
          }
      });
    </script>
</body>
{% endblock content %}
